{
  "AlarmName": "BuildFailedAnomaly",
  "AlarmDescription": "Alarm when BuildFailedEvents deviates from learned normal range",
  "Metrics": [
    {
      "Id": "m1",
      "MetricStat": {
        "Metric": {
          "Namespace": "ComfyCloud",
          "MetricName": "BuildFailedEvents"
        },
        "Period": 60,
        "Stat": "Sum"
      },
      "ReturnData": false
    },
    {
      "Id": "e1",
      "Expression": "ANOMALY_DETECTION_BAND(m1, 2)",
      "Label": "m1 anomaly band",
      "ReturnData": true
    }
  ],
  "EvaluationPeriods": 3,
  "DatapointsToAlarm": 3,
  "ThresholdMetricId": "e1",
  "ComparisonOperator": "GREATER_THAN_UPPER_THRESHOLD",
  "AlarmActions": [
    "arn:aws:sns:us-east-1:123456789012:ComfyPipelineAlerts"
  ]
}
